# Cursor MDCファイルの規約と構造

## MDCファイルとは

MDC（Multi-Document Context）ファイルは、Cursor AIに構造化された補足情報を提供するために使用されるファイル形式です。これらのファイルはCursorのルール設定に使用され、AIアシスタントがプロジェクト固有の要件に従ってコードを分析・生成するための指示を含みます。

## 基本情報

- **拡張子**: `.mdc`
- **配置場所**: プロジェクトルートの`.cursor/rules/`ディレクトリ
- **ベース形式**: マークダウン形式をベースにしている
- **目的**: AIに特定のプロジェクトやタスクに関するコンテキストや制約を提供する

## 命名規約

公式の命名規約は明確に定義されていませんが、コミュニティの実践から以下のガイドラインが見えてきます：

- **ケバブケース（kebab-case）** を使用する
  - 例: `typescript-conventions.mdc`, `react-best-practices.mdc`
- **目的が分かりやすい名前** を付ける
- できれば **対象となる言語やフレームワーク** を名前に含める
- ファイル名は短く、説明的であるべき

## 内部構造

MDCファイルの内部構造に関する厳密な標準はありません。一般的なマークダウン構文を使用して、AIに対する指示を効果的に伝えられる形で構造化することが重要です。

### 一般的な構成要素

1. **タイトル/目的**
   ```markdown
   # TypeScript プロジェクトルール
   ```

2. **AIの役割や文脈の説明**
   ```markdown
   あなたは、TypeScriptプロジェクトの開発をサポートするAIアシスタントです。以下のルールに従って、コードの分析、生成、修正を行ってください。
   ```

3. **ルール、ガイドライン、制約のリスト**
   ```markdown
   ## 型システム

   - すべてのコードにTypeScriptを使用し、強力な型付けを適用する
   - インターフェース（interface）を優先的に使用する
   - enumの使用を避け、代わりにユニオン型やconstオブジェクトを使用する
   ```

4. **コード例と反例**
   ```markdown
   ### 例（推奨）
   ```typescript
   interface User {
     id: string;
     name: string;
     email: string;
   }
   ```

   ### 例（非推奨）
   ```typescript
   type User = {
     id: string;
     name: string;
     email: string;
   };
   ```
   ```

5. **追加の注意事項や説明**
   ```markdown
   ## 注意事項

   - このプロジェクトは厳格なTypeScriptの設定を使用しています
   - すべての新しいコードは既存のパターンに従う必要があります
   ```

## 構造化アプローチの例

検索結果から見える、MDCファイルを構造化するための一般的なアプローチ：

### 階層的な構造

```markdown
# メインタイトル

あなたは[役割]です。以下のルールに従ってください。

## カテゴリ1

- ルール1
- ルール2
- ルール3

### サブカテゴリ

- サブルール1
- サブルール2

## カテゴリ2

- ルール4
- ルール5
```

### セクション分け

```markdown
# タイトル

## 概要
[プロジェクトやルールの全体的な説明]

## 役割
[AIが担うべき役割の説明]

## ルール
[具体的なルールのリスト]

## 例
[コード例や使用例]

## 制約
[制限事項や避けるべきこと]
```

## コミュニティリソース

MDCファイルの作成に役立つコミュニティリソース：

1. **awesome-cursor-rules-mdc**: 879のMDCファイル例のコレクション
   - https://github.com/[ユーザー名]/awesome-cursor-rules-mdc

2. **cursor.directory/generate**: プロジェクトの依存関係からカスタムルールを生成できるサービス
   - https://cursor.directory/generate

3. **Cursor Rules Framework**: 構造化されたMDCルールシステムの実装ガイド
   - https://solosalon.clinamenic.com/cursor-rules-framework

## 注意点

- MDCファイルの規約はCursorの公式ドキュメントでは明確に説明されておらず、コミュニティの実践から形成されています
- 最終的には、AIに効果的に指示を与えることができれば、厳密なフォーマットの制約はありません
- プロジェクトのニーズに合わせて、柔軟に構造をカスタマイズすることが推奨されます
- MDCファイル内の異なるセクションを明確に区別し、AIが容易に理解できるように整理することが重要です

## ベストプラクティス

1. **明確な目的**: 各MDCファイルは明確な目的を持ち、その目的をファイル名とタイトルに反映させる
2. **一貫した構造**: 同じプロジェクト内のMDCファイルは一貫した構造を持つようにする
3. **段階的な詳細**: 一般的なルールから具体的な例へと段階的に詳細を示す
4. **具体例**: 抽象的なルールだけでなく、具体的なコード例を含める
5. **簡潔さ**: 冗長な説明を避け、簡潔かつ明確に指示を伝える
6. **定期的な更新**: プロジェクトの進化に合わせてMDCファイルを定期的に更新する
